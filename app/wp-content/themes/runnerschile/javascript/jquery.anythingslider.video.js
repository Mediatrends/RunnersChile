!function(a){a.fn.anythingSliderVideo=function(b){var c={videoID:"asvideo"};return this.each(function(){var d,e,f,g,h=a(this).data("AnythingSlider");if(h){d=h.video={},d.options=a.extend({},c,b),d.hasSwfo="undefined"!=typeof swfobject&&swfobject.hasOwnProperty("embedSWF")&&"function"==typeof swfobject.embedSWF?!0:!1,d.list={},d.hasVid=!1,d.hasEmbed=!1,d.services=a.fn.anythingSliderVideo.services,d.len=0,d.hasEmbedCount=0,d.hasiframeCount=0,d.$items=h.$items.filter(":not(.cloned)");for(f in d.services)"string"==typeof f&&(g=d.services[f].selector,d.$items.find(g).each(function(){e=a(this),e.attr("id",d.options.videoID+d.len),d.list[d.len]={id:d.options.videoID+d.len++,panel:e.closest(".panel")[0],service:f,selector:g,status:-1},d.hasVid=!0,g.match("embed|object")?(d.hasEmbed=!0,d.hasEmbedCount++):g.match("iframe")&&d.hasiframeCount++}));a.each(d.list,function(b,c){var e,f,g,i,j=a(c.panel).find(c.selector),k=d.services[c.service],l=k.initAPI||"";d.hasEmbed&&d.hasSwfo&&c.selector.match("embed|object")?j.each(function(){f="OBJECT"===a(this).parent()[0].tagName?a(this).parent():a(this),g="EMBED"===f[0].tagName?f.attr("src"):f.find("embed").attr("src")||f.children().filter("[name=movie]").attr("value"),i=a.extend(!0,{},{flashvars:null,params:{allowScriptAccess:"always",wmode:h.options.addWmodeToObject,allowfullscreen:!0},attr:{"class":f.attr("class"),style:f.attr("style"),"data-url":g}},k.embedOpts),f.wrap('<div id="'+c.id+'"></div>'),swfobject.embedSWF(g+(""===l?"":l+c.id),c.id,f.attr("width"),f.attr("height"),"10",null,i.flashvars,i.params,i.attr,function(){k.hasOwnProperty("init")&&(d.list[b].player=k.init(h,c.id,b)),b>=d.hasEmbedCount&&h.$el.trigger("swf_completed",h)})}):c.selector.match("iframe")&&j.each(function(){g=a(this).attr("src"),e=(g.match(/\?/g)?"":"?")+"&wmode="+h.options.addWmodeToObject,a(this).attr("src",function(a,b){return b+e+(""===l?"":l+c.id)})})}),d.gup=function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(b||window.location.href);return null===c?"":c[1]},d.postMsg=function(b,c){var d=a("#"+c);d.length&&d[0].contentWindow.postMessage(b,d.attr("src").split("?")[0])},d.message=function(b){if(b.data){if(/infoDelivery/g.test(b.data))return;var c=a.parseJSON(b.data);a.each(d.list,function(a){d.services[d.list[a].service].hasOwnProperty("message")&&d.services[d.list[a].service].message(h,c)})}},d.control=function(a){var b,c=d.list,e="pause"===a?h.$lastPage[0]:h.$currentPage[0],f=!1;for(b=0;b<d.len;b++)c[b].panel===e&&d.services[c[b].service].hasOwnProperty(a)&&(f=d.services[c[b].service][a](h,c[b].id,b));return f},d.hasiframeCount&&(window.addEventListener?window.addEventListener("message",d.message,!1):window.attachEvent("onmessage",d.message,!1)),h.$el.bind("slide_init",function(){d.control("pause")}).bind("slide_complete",function(){d.control("cont")}),h.options.isVideoPlaying=function(){return d.control("isPlaying")}}})},a.fn.anythingSliderVideo.services={video:{selector:"video",cont:function(b,c){var d=a("#"+c);d.length&&d[0].paused&&d[0].currentTime>0&&!d[0].ended&&d[0].play()},pause:function(){a("video").each(function(){"undefined"!=typeof this.pause&&this.pause()})},isPlaying:function(b,c){var d=a("#"+c);return!d.length||"undefined"==typeof d[0].pause||d[0].paused||d[0].ended?!1:!0}},vimeo1:{selector:"iframe[src*=vimeo]",initAPI:"&api=1&player_id=",cont:function(a,b,c){a.options.resumeOnVisible&&"pause"===a.video.list[c].status&&a.video.postMsg('{"method":"play"}',b)},pause:function(b){a("iframe[src*=vimeo]").each(function(){b.video.postMsg('{"method":"pause"}',this.id)})},message:function(a,b){var c,d=b.player_id||"";""!==d&&(c=d.replace(a.video.options.videoID,""),"ready"===b.event&&(a.video.postMsg('{"method":"addEventListener","value":"play"}',d),a.video.postMsg('{"method":"addEventListener","value":"pause"}',d),a.video.postMsg('{"method":"addEventListener","value":"finish"}',d)),a.video.list[c]&&(a.video.list[c].status=b.event))},isPlaying:function(a,b,c){return"play"===a.video.list[c].status?!0:!1}},vimeo2:{selector:"object[data-url*=vimeo], embed[src*=vimeo]",embedOpts:{flashvars:{api:1}},cont:function(b,c){if(b.options.resumeOnVisible){var d=a("#"+c);"function"==typeof d[0].api_play&&d[0].api_paused()&&0!==d[0].api_getCurrentTime()&&d[0].api_getDuration()-d[0].api_getCurrentTime()>2&&d[0].api_play()}},pause:function(){a("object[data-url*=vimeo], embed[src*=vimeo]").each(function(){var b="EMBED"===this.tagName?a(this).parent()[0]:this;"function"==typeof b.api_pause&&b.api_pause()})},isPlaying:function(b,c){var d=a("#"+c);return"function"!=typeof d[0].api_paused||d[0].api_paused()?!1:!0}},youtube1:{selector:"iframe[src*=youtube]",initAPI:"&iv_load_policy=3&enablejsapi=1&playerapiid=",cont:function(a,b,c){a.options.resumeOnVisible&&2===a.video.list[c].status&&a.video.postMsg('{"event":"command","func":"playVideo"}',b)},pause:function(b,c){a("iframe[src*=youtube]").each(function(){b.video.postMsg('{"event":"command","func":"pauseVideo"}',c)})},message:function(b,c){if("infoDelivery"!==c.event&&c.info&&c.info.videoUrl){var d,e,f=b.video.gup("v",c.info.videoUrl),g=a("iframe[src*="+f+"]");g.length&&(d=g[0].id,e=d.replace(b.video.options.videoID,""),"onReady"===c.event&&b.video.postMsg('{"event":"listening","func":"onStateChange"}',d),"onStateChange"===c.event&&b.video.list[e]&&(b.video.list[e].status=c.info.playerState))}},isPlaying:function(a,b,c){var d=a.video.list[c].status;return 1===d||d>2?!0:!1}},youtube2:{selector:"object[data-url*=youtube], embed[src*=youtube]",initAPI:"&iv_load_policy=3&enablejsapi=1&version=3&playerapiid=",cont:function(b,c){if(b.options.resumeOnVisible){var d=a("#"+c);d.length&&"function"==typeof d[0].getPlayerState&&d[0].getPlayerState()>0&&d[0].playVideo()}},pause:function(){a("object[data-url*=youtube], embed[src*=youtube]").each(function(){var b="EMBED"===this.tagName?a(this).parent()[0]:this;"function"==typeof b.getPlayerState&&b.getPlayerState()>0&&b.pauseVideo()})},isPlaying:function(b,c){var d=a("#"+c);return"function"==typeof d[0].getPlayerState&&(1===d[0].getPlayerState()||d[0].getPlayerState()>2)?!0:!1}}}}(jQuery),jQuery(window).load(function(){jQuery(".anythingBase").anythingSliderVideo()});