!function(a){var b=a.fancybox;b.helpers.thumbs={wrap:null,list:null,width:0,source:function(b){var c;return"string"===a.type(b)?b:(c=a(b).find("img"),c.length?c.attr("src"):b.href)},init:function(c){var d,e=this,f=c.width||50,g=c.height||50,h=c.source||this.source;d="";for(var i=0;i<b.group.length;i++)d+='<li><a style="width:'+f+"px;height:"+g+'px;" href="javascript:jQuery.fancybox.jumpto('+i+');"></a></li>';this.wrap=a('<div id="fancybox-thumbs"></div>').addClass(c.position||"bottom").appendTo("body"),this.list=a("<ul>"+d+"</ul>").appendTo(this.wrap),a.each(b.group,function(c){a("<img />").load(function(){var b,d,h,i=this.width,j=this.height;e.list&&i&&j&&(b=i/f,d=j/g,h=e.list.children().eq(c).find("a"),b>=1&&d>=1&&(b>d?(i=Math.floor(i/d),j=g):(i=f,j=Math.floor(j/b))),a(this).css({width:i,height:j,top:Math.floor(g/2-j/2),left:Math.floor(f/2-i/2)}),h.width(f).height(g),a(this).hide().appendTo(h).fadeIn(300))}).attr("src",h(b.group[c]))}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(b.group.length+1)).css("left",Math.floor(.5*a(window).width()-(b.current.index*this.width+.5*this.width)))},update:function(){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*a(window).width()-(b.current.index*this.width+.5*this.width))},150)},beforeLoad:function(a){return b.group.length<2?void(b.coming.helpers.thumbs=!1):void(b.coming.margin["top"===a.position?0:2]=a.height+30)},afterShow:function(a){this.list?this.update(a):this.init(a),this.list.children().removeClass("active").eq(b.current.index).addClass("active")},onUpdate:function(){this.update()},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);